(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{377:function(t,e,o){"use strict";o.d(e,"b",(function(){return l})),o.d(e,"a",(function(){return m}));o(46);var n=o(87),r=o.n(n),c=o(173),d=o.n(c),l=function(){return d.a.get("token")},m=function(t){t.loading=!0;var e={method:"POST",url:"http://odontolopes.com/api/auth/local/",data:t.formData};r()(e).then((function(e){var o=e.data;d.a.set("token",o.jwt,{expires:1,sameSite:"Strict"}),t.$store.commit("setUser",o.user),t.message={show:!0,type:"success",text:"Login realizado com sucesso"},t.loading=!1,setTimeout((function(){t.$router.push("/dashboard")}),1e3)})).catch((function(e){var o=e.response.status;t.message={show:!0,type:"error",text:"Login ou senha inválidos. Código do erro: ".concat(o)},t.loading=!1}))}},378:function(t,e,o){"use strict";o.d(e,"a",(function(){return d})),o.d(e,"b",(function(){return l}));o(20);var n=o(87),r=o.n(n),c=o(377),d=function(t){t.loading=!0;var e={method:"GET",url:"".concat("http://odontolopes.com/api/").concat(t.endpoint),headers:{Authorization:"Bearer ".concat(Object(c.b)()),"Content-Type":"application/json"}};r()(e).then((function(e){t.items=e.data,t.loading=!1})).catch((function(e){t.message={show:!0,type:"error",text:t.messages.error,error:e},t.loading=!1}))},l=function(t){t.loading=!0;var e={method:"POST",url:"".concat("http://odontolopes.com/api/").concat(t.endpoint),data:JSON.stringify(t.data),headers:{Authorization:"Bearer ".concat(Object(c.b)()),"Content-Type":"application/json"}};r()(e).then((function(e){t.message={show:!0,type:"success",text:t.messages.success,success:e},t.loading=!1})).catch((function(e){t.message={show:!0,type:"error",text:t.messages.error,error:e},t.loading=!1}))}},584:function(t,e,o){"use strict";o.r(e);var n=o(572),r=o(527),c=o(378),d=o(87),l=o.n(d),m=o(377),h=function(t){t.loading=!0;var e={method:"GET",url:"".concat("http://odontolopes.com/api/","patients"),headers:{Authorization:"Bearer ".concat(Object(m.b)()),"Content-Type":"application/json"}};l()(e).then((function(e){t.patients=e.data,t.loading=!1})).catch((function(e){t.message={show:!0,type:"error",text:"Erro ao carregar os pacientes",error:e},t.loading=!1}))},v=function(t){t.loading=!0;var e={method:"GET",url:"".concat("http://odontolopes.com/api/","procedures"),headers:{Authorization:"Bearer ".concat(Object(m.b)()),"Content-Type":"application/json"}};l()(e).then((function(e){t.procedures=e.data,t.loading=!1})).catch((function(e){t.message={show:!0,type:"error",text:"Erro ao carregar os procedimentos",error:e},t.loading=!1}))};r.Settings.defaultLocale="pt-br";var f={components:{Datetime:n.Datetime},middleware:"private",data:function(){return{loading:!1,endpoint:"appointments",data:{date:new Date,patient:0,procedures:[],notes:""},procedures:[],patients:[],messages:{success:"Consulta cadastrada com sucesso",error:"Erro ao cadastrar a consulta"},message:{show:!1,type:"",text:""}}},head:{title:"Nova consulta"},beforeMount:function(){h(this),v(this)},methods:{registerClinic:function(){Object(c.b)(this)},listPatients:h,listProcedures:v}},x=o(56),w=o(76),y=o.n(w),_=o(596),j=o(582),C=o(185),T=o(165),O=o(389),k=o(388),component=Object(x.a)(f,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",{staticClass:"patients"},[o("h1",{staticClass:"display-1"},[t._v("Nova consulta")]),t._v(" "),o("v-icon",[t._v("mdi-calendar")]),t._v("\n  Selecione uma data e hora\n  "),o("Datetime",{attrs:{type:"datetime"},model:{value:t.data.date,callback:function(e){t.$set(t.data,"date",e)},expression:"data.date"}}),t._v(" "),o("v-autocomplete",{attrs:{label:"Selecione o paciente",items:t.patients,"item-text":"name","item-value":"id"},model:{value:t.data.patient,callback:function(e){t.$set(t.data,"patient",e)},expression:"data.patient"}}),t._v(" "),o("v-select",{attrs:{label:"Procedimentos realizados",items:t.procedures,"item-text":"title","item-value":"id",multiple:""},model:{value:t.data.procedures,callback:function(e){t.$set(t.data,"procedures",e)},expression:"data.procedures"}}),t._v(" "),o("v-textarea",{attrs:{label:"Observações",outlined:""},model:{value:t.data.notes,callback:function(e){t.$set(t.data,"notes",e)},expression:"data.notes"}}),t._v(" "),o("v-btn",{attrs:{disabled:t.loading,loading:t.loading,color:"primary"},on:{click:t.registerClinic}},[t._v("Cadastrar")]),t._v(" "),t.message.show?o("v-alert",{attrs:{type:t.message.type}},[t._v("\n    "+t._s(t.message.text)+"\n  ")]):t._e()],1)}),[],!1,null,null,null);e.default=component.exports;y()(component,{VAlert:_.a,VAutocomplete:j.a,VBtn:C.a,VIcon:T.a,VSelect:O.a,VTextarea:k.a})}}]);
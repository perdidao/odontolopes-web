(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{377:function(t,e,n){"use strict";n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return h}));n(46);var o=n(87),r=n.n(o),c=n(173),d=n.n(c),l=function(){return d.a.get("token")},h=function(t){t.loading=!0;var e={method:"POST",url:"http://odontolopes.com/api/auth/local/",data:t.formData};r()(e).then((function(e){var n=e.data;d.a.set("token",n.jwt,{expires:1,sameSite:"Strict"}),t.$store.commit("setUser",n.user),t.message={show:!0,type:"success",text:"Login realizado com sucesso"},t.loading=!1,setTimeout((function(){t.$router.push("/dashboard")}),1e3)})).catch((function(e){var n=e.response.status;t.message={show:!0,type:"error",text:"Login ou senha inválidos. Código do erro: ".concat(n)},t.loading=!1}))}},378:function(t,e,n){"use strict";n.d(e,"a",(function(){return d})),n.d(e,"b",(function(){return l}));n(20);var o=n(87),r=n.n(o),c=n(377),d=function(t){t.loading=!0;var e={method:"GET",url:"".concat("http://odontolopes.com/api/").concat(t.endpoint),headers:{Authorization:"Bearer ".concat(Object(c.b)()),"Content-Type":"application/json"}};r()(e).then((function(e){t.items=e.data,t.loading=!1})).catch((function(e){t.message={show:!0,type:"error",text:t.messages.error,error:e},t.loading=!1}))},l=function(t){t.loading=!0;var e={method:"POST",url:"".concat("http://odontolopes.com/api/").concat(t.endpoint),data:JSON.stringify(t.data),headers:{Authorization:"Bearer ".concat(Object(c.b)()),"Content-Type":"application/json"}};r()(e).then((function(e){t.message={show:!0,type:"success",text:t.messages.success,success:e},t.loading=!1})).catch((function(e){t.message={show:!0,type:"error",text:t.messages.error,error:e},t.loading=!1}))}},594:function(t,e,n){"use strict";n.r(e);var o=n(378),r={middleware:"private",data:function(){return{loading:!1,endpoint:"clinics",messages:{error:"Erro ao carregar as clínicas"},message:{show:!1,type:"",text:""},headers:[{text:"Nome",value:"title"},{text:"Endereço",value:"address"}],items:[]}},head:{title:"Clínicas"},mounted:function(){Object(o.a)(this)}},c=n(56),d=n(76),l=n.n(d),h=n(596),m=n(185),f=n(583),v=n(165),component=Object(c.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"clinics"},[n("div",{staticClass:"d-flex align-center justify-space-between"},[n("h1",{staticClass:"display-1"},[t._v("Clínicas")]),t._v(" "),n("v-btn",{attrs:{router:"",fab:"",elevation:"0",color:"primary",to:"/clinicas/nova"}},[n("v-icon",[t._v("mdi-plus")])],1)],1),t._v(" "),t.message.show?n("v-alert",{attrs:{type:t.message.type}},[t._v("\n    "+t._s(t.message.text)+"\n  ")]):t._e(),t._v(" "),n("v-data-table",{attrs:{items:t.items,headers:t.headers}})],1)}),[],!1,null,null,null);e.default=component.exports;l()(component,{VAlert:h.a,VBtn:m.a,VDataTable:f.a,VIcon:v.a})}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{377:function(t,e,o){"use strict";o.d(e,"b",(function(){return d})),o.d(e,"a",(function(){return m}));o(46);var n=o(87),r=o.n(n),l=o(173),c=o.n(l),d=function(){return c.a.get("token")},m=function(t){t.loading=!0;var e={method:"POST",url:"http://odontolopes.com/api/auth/local/",data:t.formData};r()(e).then((function(e){var o=e.data;c.a.set("token",o.jwt,{expires:1,sameSite:"Strict"}),t.$store.commit("setUser",o.user),t.message={show:!0,type:"success",text:"Login realizado com sucesso"},t.loading=!1,setTimeout((function(){t.$router.push("/dashboard")}),1e3)})).catch((function(e){var o=e.response.status;t.message={show:!0,type:"error",text:"Login ou senha inválidos. Código do erro: ".concat(o)},t.loading=!1}))}},591:function(t,e,o){"use strict";o.r(e);var n=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"auth__logo"},[e("img",{attrs:{src:o(250),alt:"Odontopro"}})])}],r=o(377),l={layout:"clean",data:function(){return{loading:!1,message:{show:!1,type:"success",text:"Bem-vindo(a) à Odontolopes"},formData:{identifier:"",password:""}}},head:{title:"Login"},methods:{login:r.a,submitLogin:function(){Object(r.a)(this)}}},c=o(56),d=o(76),m=o.n(d),f=o(596),h=o(185),v=o(383),component=Object(c.a)(l,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",{staticClass:"auth"},[o("div",{staticClass:"auth-container"},[t._m(0),t._v(" "),o("v-text-field",{staticClass:"auth__input",attrs:{label:"Usuário",outlined:"","hide-details":""},model:{value:t.formData.identifier,callback:function(e){t.$set(t.formData,"identifier",e)},expression:"formData.identifier"}}),t._v(" "),o("v-text-field",{staticClass:"auth__input",attrs:{label:"Senha",outlined:"","hide-details":"",type:"password"},model:{value:t.formData.password,callback:function(e){t.$set(t.formData,"password",e)},expression:"formData.password"}}),t._v(" "),o("v-btn",{attrs:{block:"",color:"primary",disabled:t.loading,loading:t.loading},on:{click:t.submitLogin}},[t._v("Entrar")]),t._v(" "),t.message.show?o("br"):t._e(),t._v(" "),t.message.show?o("v-alert",{attrs:{type:t.message.type}},[t._v("\n      "+t._s(t.message.text)+"\n    ")]):t._e()],1)])}),n,!1,null,null,null);e.default=component.exports;m()(component,{VAlert:f.a,VBtn:h.a,VTextField:v.a})}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{377:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return m}));n(46);var o=n(87),r=n.n(o),c=n(173),d=n.n(c),l=function(){return d.a.get("token")},m=function(e){e.loading=!0;var t={method:"POST",url:"http://odontolopes.com/api/auth/local/",data:e.formData};r()(t).then((function(t){var n=t.data;d.a.set("token",n.jwt,{expires:1,sameSite:"Strict"}),e.$store.commit("setUser",n.user),e.message={show:!0,type:"success",text:"Login realizado com sucesso"},e.loading=!1,setTimeout((function(){e.$router.push("/dashboard")}),1e3)})).catch((function(t){var n=t.response.status;e.message={show:!0,type:"error",text:"Login ou senha inválidos. Código do erro: ".concat(n)},e.loading=!1}))}},378:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return l}));n(20);var o=n(87),r=n.n(o),c=n(377),d=function(e){e.loading=!0;var t={method:"GET",url:"".concat("http://odontolopes.com/api/").concat(e.endpoint),headers:{Authorization:"Bearer ".concat(Object(c.b)()),"Content-Type":"application/json"}};r()(t).then((function(t){e.items=t.data,e.loading=!1})).catch((function(t){e.message={show:!0,type:"error",text:e.messages.error,error:t},e.loading=!1}))},l=function(e){e.loading=!0;var t={method:"POST",url:"".concat("http://odontolopes.com/api/").concat(e.endpoint),data:JSON.stringify(e.data),headers:{Authorization:"Bearer ".concat(Object(c.b)()),"Content-Type":"application/json"}};r()(t).then((function(t){e.message={show:!0,type:"success",text:e.messages.success,success:t},e.loading=!1})).catch((function(t){e.message={show:!0,type:"error",text:e.messages.error,error:t},e.loading=!1}))}},588:function(e,t,n){"use strict";n.r(t);var o=n(378),r={middleware:"private",data:function(){return{loading:!1,endpoint:"patients",messages:{error:"Erro ao carregar os pacientes"},message:{show:!1,type:"",text:""},headers:[{text:"Nome",value:"name"},{text:"E-mail",value:"email"},{text:"Telefone",value:"phone"},{text:"Informações adicionais",value:"additional"}],items:[]}},head:{title:"Pacientes"},mounted:function(){Object(o.a)(this)}},c=n(56),d=n(76),l=n.n(d),m=n(596),h=n(185),f=n(583),v=n(165),component=Object(c.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"patients"},[n("div",{staticClass:"d-flex align-center justify-space-between"},[n("h1",{staticClass:"display-1"},[e._v("Pacientes")]),e._v(" "),n("v-btn",{attrs:{router:"",fab:"",elevation:"0",color:"primary",to:"/pacientes/novo"}},[n("v-icon",[e._v("mdi-plus")])],1)],1),e._v(" "),e.message.show?n("v-alert",{attrs:{type:e.message.type}},[e._v("\n    "+e._s(e.message.text)+"\n  ")]):e._e(),e._v(" "),n("v-data-table",{attrs:{items:e.items,headers:e.headers}})],1)}),[],!1,null,null,null);t.default=component.exports;l()(component,{VAlert:m.a,VBtn:h.a,VDataTable:f.a,VIcon:v.a})}}]);